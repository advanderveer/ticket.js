!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){var c=a("./src/ticket.js");b.exports=c},{"./src/ticket.js":41}],2:[function(a,b){"use strict";b.exports=function(b,c,d){function e(a,b,d){var e=c(a,f,d,b===!0?a._boundTo:void 0);return e.setHowMany(1),e.setUnwrap(),e.promise()}var f=a("./some_promise_array.js")(d);b.any=function(a){return e(a,!1,b.any)},b.prototype.any=function(){return e(this,!0,this.any)}}},{"./some_promise_array.js":36}],3:[function(a,b){"use strict";b.exports=function(){var a=function(){function a(a){this.constructor$(a),this.message=a,this.name="AssertionError"}return a.prototype=new Error,a.prototype.constructor=a,a.prototype.constructor$=Error,a}();return function b(c,d){if(c!==!0){var e=new a(d);throw Error.captureStackTrace&&Error.captureStackTrace(e,b),console&&console.error&&console.error(e.stack+""),e}}}()},{}],4:[function(a,b){"use strict";function c(){this._isTickUsed=!1,this._length=0,this._lateBuffer=new e,this._functionBuffer=new e(75e3);var a=this;this.consumeFunctionBuffer=function(){a._consumeFunctionBuffer()}}var d=(a("./assert.js"),a("./schedule.js")),e=a("./queue.js"),f=a("./util.js").errorObj,g=a("./util.js").tryCatch1;c.prototype.haveItemsQueued=function(){return this._length>0},c.prototype.invokeLater=function(a,b,c){this._lateBuffer.push(a,b,c),this._queueTick()},c.prototype.invoke=function(a,b,c){var d=this._functionBuffer;d.push(a,b,c),this._length=d.length(),this._queueTick()},c.prototype._consumeFunctionBuffer=function(){for(var a=this._functionBuffer;a.length()>0;){var b=a.shift(),c=a.shift(),d=a.shift();b.call(c,d)}this._reset(),this._consumeLateBuffer()},c.prototype._consumeLateBuffer=function(){for(var a=this._lateBuffer;a.length()>0;){var b=a.shift(),c=a.shift(),d=a.shift(),e=g(b,c,d);if(e===f)throw this._queueTick(),e.e}},c.prototype._queueTick=function(){this._isTickUsed||(d(this.consumeFunctionBuffer),this._isTickUsed=!0)},c.prototype._reset=function(){this._isTickUsed=!1,this._length=0},b.exports=new c},{"./assert.js":3,"./queue.js":28,"./schedule.js":32,"./util.js":38}],5:[function(a,b){"use strict";var c=a("./promise.js")();b.exports=c},{"./promise.js":20}],6:[function(a,b){"use strict";b.exports=function(a){function b(a){var b="string"==typeof this?this:""+this;return a[b]}a.prototype.call=function(a){for(var b=arguments.length,c=new Array(b-1),d=1;b>d;++d)c[d-1]=arguments[d];return this._then(function(b){return b[a].apply(b,c)},void 0,void 0,void 0,void 0,this.call)},a.prototype.get=function(a){return this._then(b,void 0,void 0,a,void 0,this.get)}}},{}],7:[function(a,b){"use strict";b.exports=function(b){var c=a("./errors.js"),d=a("./async.js"),e=c.CancellationError;b.prototype.cancel=function(){if(!this.isCancellable())return this;for(var a=this;void 0!==a._cancellationParent;)a=a._cancellationParent;if(a===this){var b=new e;this._attachExtraTrace(b),this._reject(b)}else d.invoke(a.cancel,a,void 0);return this},b.prototype.uncancellable=function(){var a=new b;return a._setTrace(this.uncancellable,this),a._unsetCancellable(),a._assumeStateOf(this,!0),a._boundTo=this._boundTo,a},b.prototype.fork=function(a,b,c){var d=this._then(a,b,c,void 0,void 0,this.fork);return d._cancellationParent=void 0,d}}},{"./async.js":4,"./errors.js":12}],8:[function(a,b){"use strict";b.exports=function(){function b(a){var b;if("function"==typeof a)b="[function "+(a.name||"anonymous")+"]";else{b=a.toString();var d=/\[object [a-zA-Z0-9$_]+\]/;if(d.test(b))try{var e=JSON.stringify(a);b=e}catch(f){}}return"(<"+c(b)+">, no stack trace)"}function c(a){var b=41;return a.length<b?a:a.substr(0,b-3)+"..."}function d(a,b){this.captureStackTrace(a,b)}var e=(a("./assert.js"),a("./util.js").inherits),f=new RegExp("\\b(?:Promise(?:Array|Spawn)?\\$_\\w+|tryCatch(?:1|2|Apply)|setTimeout|CatchFilter\\$_\\w+|makeNodePromisified|processImmediate|nextTick|Async\\$\\w+)\\b"),g=null,h=null,i=!1;e(d,Error),d.prototype.captureStackTrace=function(a,b){j(this,a,b)},d.possiblyUnhandledRejection=function(a){if("object"==typeof console){var b;if("object"==typeof a||"function"==typeof a){var c=a.stack;b="Possibly unhandled "+h(c,a)}else b="Possibly unhandled "+String(a);"function"==typeof console.error||"object"==typeof console.error?console.error(b):("function"==typeof console.log||"object"==typeof console.error)&&console.log(b)}},i="CapturedTrace$captureStackTrace"!==d.prototype.captureStackTrace.name,d.combine=function(a,b){for(var c=a.length-1,d=b.length-1;d>=0;--d){var e=b[d];if(a[c]!==e)break;a.pop(),c--}a.push("From previous event:");for(var h=a.concat(b),i=[],d=0,j=h.length;j>d;++d)f.test(h[d])||d>0&&!g.test(h[d])&&"From previous event:"!==h[d]||i.push(h[d]);return i},d.isSupported=function(){return"function"==typeof j};var j=function k(){if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){g=/^\s*at\s*/,h=function(a,c){return"string"==typeof a?a:void 0!==c.name&&void 0!==c.message?c.name+". "+c.message:b(c)};var a=Error.captureStackTrace;return function(b,c,d){var e=-1;d||(e=Error.stackTraceLimit,Error.stackTraceLimit=Math.max(1,Math.min(1e4,e)/3|0)),a(b,c),d||(Error.stackTraceLimit=e)}}var c=new Error;if(!i&&"string"==typeof c.stack&&"function"==typeof"".startsWith&&c.stack.startsWith("stackDetection@")&&"stackDetection"===k.name){Object.defineProperty(Error,"stackTraceLimit",{writable:!0,enumerable:!1,configurable:!1,value:25}),g=/@/;var d=/[@\n]/;return h=function(a,c){return"string"==typeof a?c.name+". "+c.message+"\n"+a:void 0!==c.name&&void 0!==c.message?c.name+". "+c.message:b(c)},function(a,b){var c,e=b.name,f=(new Error).stack,g=f.split(d),h=g.length;for(c=0;h>c&&g[c]!==e;c+=2);g=g.slice(c+2),h=g.length-2;var i="";for(c=0;h>c;c+=2)i+=g[c],i+="@",i+=g[c+1],i+="\n";a.stack=i}}return h=function(a,c){return"string"==typeof a?a:"object"!=typeof c&&"function"!=typeof c||void 0===c.name||void 0===c.message?b(c):c.name+". "+c.message},null}();return d}},{"./assert.js":3,"./util.js":38}],9:[function(a,b){"use strict";function c(a,b,c){this._instances=a,this._callback=b,this._promise=c}function d(a,b){var c={},d=g(a,c,b);if(d===h)return d;var e=Object.keys(c);return e.length?(h.e=new TypeError("Catch filter must inherit from Error or be a simple predicate function"),h):d}var e=a("./errors.js").ensureNotHandled,f=a("./util.js"),g=f.tryCatch1,h=f.errorObj;c.prototype.doFilter=function(a){for(var b=this._callback,c=0,f=this._instances.length;f>c;++c){var i=this._instances[c],j=i===Error||null!=i&&i.prototype instanceof Error;if(j&&a instanceof i){var k=g(b,this._promise._boundTo,a);if(k===h)throw k.e;return k}if("function"==typeof i&&!j){var l=d(i,a);if(l===h){this._promise._attachExtraTrace(h.e),a=h.e;break}if(l){var k=g(b,this._promise._boundTo,a);if(k===h)throw k.e;return k}}}throw e(a),a},b.exports=c},{"./errors.js":12,"./util.js":38}],10:[function(a,b){"use strict";b.exports=function(b){function c(a){try{return a.then}catch(b){return j.e=b,j}}function d(a,b){if(i(a))return!1;var d=c(a);return d===j?(b.ref=j,!1):"function"==typeof d?(b.ref=d,!0):!1}function e(a,c){if(k(a)){if(a instanceof b)return a;if(d(a,m)){c="function"==typeof c?c:e;var g=m.ref;return m.ref=null,f(a,g,c)}if(m.ref===j)return m.ref=null,b.reject(j.e);m.ref=null}return a}function f(a,c,d){var f=b.defer(d),g=!1,h=l(c,a,function i(b){if(!g){g=!0;var c=e(b);c===b?f.resolve(b):b===a?f.promise._resolveFulfill(b):c._then(f.resolve,f.reject,void 0,f,void 0,i)}},function(a){g||(g=!0,f.reject(a))});return h!==j||g||f.reject(h.e),f.promise}var g=(a("./assert.js"),a("./async.js")),h=a("./util.js"),i=h.isPrimitive,j=h.errorObj,k=h.isObject,l=h.tryCatch2,m={ref:null};b._cast=e,b._isThenable=d,b.prototype._resolveThenable=function(a,c){var d=this,f={},h=!1,i=function n(c){if(!h||this===f){h=!0;var i=d._fulfill,j=e(c);if(j!==c||j instanceof b&&j.isPending())return c===a?g.invoke(i,d,c):j._then(n,k,void 0,f,void 0,n),void 0;if(j instanceof b){var i=j.isFulfilled()?d._fulfill:d._reject;if(c=c._resolvedValue,j=e(c),j!==c||j instanceof b&&j!==c)return j._then(n,k,void 0,f,void 0,n),void 0}g.invoke(i,d,c)}},k=function o(c){if(!h||this===f){var j=d._reject;h=!0;var k=e(c);if(k!==c||k instanceof b&&k.isPending())return c===a?g.invoke(j,d,c):k._then(i,o,void 0,f,void 0,i),void 0;if(k instanceof b){var j=k.isFulfilled()?d._fulfill:d._reject;if(c=c._resolvedValue,k=e(c),k!==c||k instanceof b&&k.isPending())return k._then(i,o,void 0,f,void 0,i),void 0}g.invoke(j,d,c)}},m=l(c,a,i,k);m!==j||h||(this._attachExtraTrace(m.e),g.invoke(this._reject,this,m.e))}}},{"./assert.js":3,"./async.js":4,"./util.js":38}],11:[function(a,b){"use strict";var c=a("./util.js"),d=(a("./assert.js"),c.isPrimitive);b.exports=function(a){var b=function(){return"string"!==this}.call("string"),c=function(){return this},e=function(){throw this},f=function(a,b){return 1===b?function(){throw a}:2===b?function(){return a}:void 0};a.prototype["return"]=a.prototype.thenReturn=function(a){return b&&d(a)?this._then(f(a,2),void 0,void 0,void 0,void 0,this.thenReturn):this._then(c,void 0,void 0,a,void 0,this.thenReturn)},a.prototype["throw"]=a.prototype.thenThrow=function(a){return b&&d(a)?this._then(f(a,1),void 0,void 0,void 0,void 0,this.thenThrow):this._then(e,void 0,void 0,a,void 0,this.thenThrow)}}},{"./assert.js":3,"./util.js":38}],12:[function(a,b){"use strict";function c(a){return(1&a)>0}function d(a){return(2&a)>0}function e(a){return 1|a}function f(a){return 2|a}function g(a){return-3&a}function h(a){var b;r(a)&&void 0!==(b=a.__promiseHandled__)&&(a.__promiseHandled__=g(b))}function i(a){try{return s(a,"__promiseHandled__",0),!0}catch(b){return!1}}function j(a){return a instanceof t}function k(a){if(j(a)){var b=a.__promiseHandled__;return void 0===b?i(a):!c(b)}return!1}function l(a,b){function c(c){this.message="string"==typeof c?c:b,this.name=a,t.captureStackTrace&&t.captureStackTrace(this,this.constructor)}return q(c,t),c}function m(a){this.name="RejectionError",this.message=a,this.cause=a,a instanceof t?(this.message=a.message,this.stack=a.stack):t.captureStackTrace&&t.captureStackTrace(this,this.constructor)}var n=a("./global.js"),o=n.Object.freeze,p=a("./util.js"),q=p.inherits,r=p.isObject,s=p.notEnumerableProp,t=n.Error,u=n.TypeError;"function"!=typeof u&&(u=l("TypeError","type error"));var v=l("CancellationError","cancellation error"),w=l("TimeoutError","timeout error");q(m,t);var x="__BluebirdErrorTypes__",y=n[x];y||(y=o({CancellationError:v,TimeoutError:w,RejectionError:m}),s(n,x,y)),b.exports={Error:t,TypeError:u,CancellationError:y.CancellationError,RejectionError:y.RejectionError,TimeoutError:y.TimeoutError,attachDefaultState:i,ensureNotHandled:h,withHandledUnmarked:g,withHandledMarked:f,withStackAttached:e,isStackAttached:c,isHandled:d,canAttach:k}},{"./global.js":16,"./util.js":38}],13:[function(a,b){"use strict";b.exports=function(b){function c(a){var c=new d(a),e=b.rejected(c),f=e._peekContext();return null!=f&&f._attachExtraTrace(c),e}var d=a("./errors.js").TypeError;return c}},{"./errors.js":12}],14:[function(a,b){"use strict";b.exports=function(b,c,d,e){function f(a){var b=this,c=void 0;"function"!=typeof b&&(c=b.receiver,b=b.fn);var d=new Array(a.length),e=0;if(void 0===c)for(var f=0,g=a.length;g>f;++f){var h=a[f];(void 0!==h||f in a)&&b(h,f,g)&&(d[e++]=h)}else for(var f=0,g=a.length;g>f;++f){var h=a[f];(void 0!==h||f in a)&&b.call(c,h,f,g)&&(d[e++]=h)}return d.length=e,d}function g(a,b,g,h){return"function"!=typeof b?e("fn is not a function"):(g===!0&&(b={fn:b,receiver:a._boundTo}),c(a,d,h,g===!0?a._boundTo:void 0).promise()._then(f,void 0,void 0,b,void 0,h))}a("./assert.js");b.filter=function(a,c){return g(a,c,!1,b.filter)},b.prototype.filter=function(a){return g(this,a,!0,this.filter)}}},{"./assert.js":3}],15:[function(a,b){"use strict";b.exports=function(b,c){var d=a("./promise_spawn.js")(b),e=a("./errors.js"),f=e.TypeError;b.coroutine=function(a){if("function"!=typeof a)throw new f("generatorFunction must be a function");var b=d;return function c(){var d=a.apply(this,arguments),e=new b(void 0,void 0,c);return e._generator=d,e._next(void 0),e.promise()}},b.spawn=function(a){if("function"!=typeof a)return c("generatorFunction must be a function");var e=new d(a,this,b.spawn),f=e.promise();return e._run(b.spawn),f}}},{"./errors.js":12,"./promise_spawn.js":24}],16:[function(a,b){var c=a("__browserify_process"),d="undefined"!=typeof self?self:"undefined"!=typeof window?window:{};b.exports=function(){return"undefined"!=typeof this?this:"undefined"!=typeof c&&"undefined"!=typeof d&&"string"==typeof c.execPath?d:"undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator&&null!==navigator&&"string"==typeof navigator.appName?window:void 0}()},{__browserify_process:39}],17:[function(a,b){"use strict";b.exports=function(b,c,d,e){function f(a){var e=this,g=void 0;"function"!=typeof e&&(g=e.receiver,e=e.fn);var h=!1;if(void 0===g){for(var i=0,j=a.length;j>i;++i)if(void 0!==a[i]||i in a){var k=e(a[i],i,j);if(!h&&b.is(k)){if(k.isFulfilled()){a[i]=k._resolvedValue;continue}h=!0}a[i]=k}}else for(var i=0,j=a.length;j>i;++i)if(void 0!==a[i]||i in a){var k=e.call(g,a[i],i,j);if(!h&&b.is(k)){if(k.isFulfilled()){a[i]=k._resolvedValue;continue}h=!0}a[i]=k}return h?c(a,d,f,void 0).promise():a}function g(a,b,g,h){return"function"!=typeof b?e("fn is not a function"):(g===!0&&(b={fn:b,receiver:a._boundTo}),c(a,d,h,g===!0?a._boundTo:void 0).promise()._then(f,void 0,void 0,b,void 0,h))}a("./assert.js");b.prototype.map=function(a){return g(this,a,!0,this.map)},b.map=function(a,c){return g(a,c,!1,b.map)}}},{"./assert.js":3}],18:[function(a,b){"use strict";b.exports=function(b){function c(a){throw a}function d(a,b){var d=this,e=h(d,b,null,a);e===j&&g.invokeLater(c,void 0,e.e)}function e(a,b){var d=this,e=i(d,b,a);e===j&&g.invokeLater(c,void 0,e.e)}var f=a("./util.js"),g=a("./async.js"),h=(a("./assert.js"),f.tryCatch2),i=f.tryCatch1,j=f.errorObj;b.prototype.nodeify=function(a){return"function"==typeof a&&this._then(d,e,void 0,a,this._isBound()?this._boundTo:null,this.nodeify),this}}},{"./assert.js":3,"./async.js":4,"./util.js":38}],19:[function(a,b){"use strict";b.exports=function(b){var c=(a("./assert.js"),a("./util.js")),d=a("./async.js"),e=c.tryCatch1,f=c.errorObj;b.prototype.progressed=function(a){return this._then(void 0,void 0,a,void 0,void 0,this.progressed)},b.prototype._progress=function(a){this._isFollowingOrFulfilledOrRejected()||this._resolveProgress(a)},b.prototype._progressAt=function(a){return 0===a?this._progress0:this[a+2-5]},b.prototype._resolveProgress=function(a){for(var c=this._length(),g=0;c>g;g+=5){var h=this._progressAt(g),i=this._promiseAt(g);if(b.is(i)){var j=a;void 0!==h?(this._pushContext(),j=e(h,this._receiverAt(g),a),this._popContext(),j===f?null!=j.e&&"StopProgressPropagation"===j.e.name?j.e.__promiseHandled__=2:(i._attachExtraTrace(j.e),d.invoke(i._progress,i,j.e)):b.is(j)?j._then(i._progress,null,null,i,void 0,this._progress):d.invoke(i._progress,i,j)):d.invoke(i._progress,i,j)}else h.call(this._receiverAt(g),a,i)}}}},{"./assert.js":3,"./async.js":4,"./util.js":38}],20:[function(a,b){var c=a("__browserify_process");b.exports=function(){function b(a){return"object"!=typeof a?!1:a instanceof d}function d(a){this._bitField=67108864,this._fulfill0=void 0,this._reject0=void 0,this._progress0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolvedValue=void 0,this._cancellationParent=void 0,this._boundTo=void 0,L&&(this._traceParent=this._peekContext()),"function"==typeof a&&this._resolveResolver(a)}function e(a){throw a}function f(a,b){return this.isFulfilled()?a._then(function(){return b},e,void 0,this,void 0,f):a._then(function(){throw C(b),b},e,void 0,this,void 0,f)}function g(a,b,c){return h(a,m,c,b===!0?a._boundTo:void 0).promise()}function h(a,c,d,e){return b(a)||q(a)?new c(a,"function"==typeof d?d:h,e):new c([I("expecting an array or a promise")],d,e)}var i=a("./global.js"),j=(a("./assert.js"),a("./util.js")),k=a("./async.js"),l=a("./errors.js"),m=a("./promise_array.js")(d),n=a("./captured_trace.js")(),o=a("./catch_filter.js"),p=a("./promise_resolver.js"),q=j.isArray,r=j.notEnumerableProp,s=j.isObject,t=j.ensurePropertyExpansion,u=j.errorObj,v=j.tryCatch1,w=j.tryCatch2,x=j.tryCatchApply,y=l.TypeError,z=l.CancellationError,A=l.TimeoutError,B=l.RejectionError,C=l.ensureNotHandled,D=l.withHandledMarked,E=l.withStackAttached,F=l.isStackAttached,G=l.isHandled,H=l.canAttach,I=a("./errors_api_rejection")(d),J={},K=function(){return new y("Resolving promises cyclically")};d.prototype.bind=function(a){var b=new d;return b._setTrace(this.bind,this),b._assumeStateOf(this,!0),b._setBoundTo(a),b},d.prototype.toString=function(){return"[object Promise]"},d.prototype.caught=d.prototype["catch"]=function(a){var b=arguments.length;if(b>1){var c,d=new Array(b-1),e=0;for(c=0;b-1>c;++c){var f=arguments[c];if("function"!=typeof f){var g=new y("A catch filter must be an error constructor or a filter function");return this._attachExtraTrace(g),k.invoke(this._reject,this,g),void 0}d[e++]=f}d.length=e,a=arguments[c],this._resetTrace(this.caught);var h=new o(d,a,this);return this._then(void 0,h.doFilter,void 0,h,void 0,this.caught)}return this._then(void 0,a,void 0,void 0,void 0,this.caught)},d.prototype.lastly=d.prototype["finally"]=function(a){var c=function(c){var d=this._isBound()?a.call(this._boundTo):a();if(b(d))return f.call(this,d,c);if(this.isRejected())throw C(c),c;return c};return this._then(c,c,void 0,this,void 0,this.lastly)},d.prototype.then=function(a,b,c){return this._then(a,b,c,void 0,void 0,this.then)},d.prototype.done=function(a,b,c){var d=this._then(a,b,c,void 0,void 0,this.done);d._setIsFinal()},d.prototype.spread=function(a,b){return this._then(a,b,void 0,J,void 0,this.spread)},d.prototype.isFulfilled=function(){return(268435456&this._bitField)>0},d.prototype.isRejected=function(){return(134217728&this._bitField)>0},d.prototype.isPending=function(){return!this.isResolved()},d.prototype.isResolved=function(){return(402653184&this._bitField)>0},d.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()},d.prototype.toJSON=function(){var a={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(a.fulfillmentValue=this._resolvedValue,a.isFulfilled=!0):this.isRejected()&&(a.rejectionReason=this._resolvedValue,a.isRejected=!0),a},d.prototype.all=function(){return g(this,!0,this.all)},d.is=b,d.all=function(a){return g(a,!1,d.all)},d.join=function(){for(var a=arguments.length,b=new Array(a),c=0;a>c;++c)b[c]=arguments[c];return h(b,m,d.join,void 0).promise()},d.resolve=d.fulfilled=function(a,b){var c=new d;return c._setTrace("function"==typeof b?b:d.resolve,void 0),c._tryAssumeStateOf(a,!1)?c:(c._cleanValues(),c._setFulfilled(),c._resolvedValue=a,c)},d.reject=d.rejected=function(a){var b=new d;return b._setTrace(d.reject,void 0),b._cleanValues(),b._setRejected(),b._resolvedValue=a,b},d.prototype._resolveFromSyncValue=function(a){if(a===u)this._cleanValues(),this._setRejected(),this._resolvedValue=a.e;else{var b=d._cast(a);b instanceof d?this._assumeStateOf(b,!0):(this._cleanValues(),this._setFulfilled(),this._resolvedValue=a)}},d.method=function(a){if("function"!=typeof a)throw new y("fn must be a function");return function b(){var c;switch(arguments.length){case 0:c=v(a,this,void 0);break;case 1:c=v(a,this,arguments[0]);break;case 2:c=w(a,this,arguments[0],arguments[1]);break;default:for(var e=arguments.length,f=new Array(e),g=0;e>g;++g)f[g]=arguments[g];c=x(a,f,this)}var h=new d;return h._setTrace(b,void 0),h._resolveFromSyncValue(c),h}},d["try"]=d.attempt=function(a,b,c){if("function"!=typeof a)return I("fn must be a function");var e=q(b)?x(a,b,c):v(a,c,b),f=new d;return f._setTrace(d.attempt,void 0),f._resolveFromSyncValue(e),f},d.defer=d.pending=function(a){var b=new d;return b._setTrace("function"==typeof a?a:d.defer,void 0),new p(b)},d.bind=function(a){var b=new d;return b._setTrace(d.bind,void 0),b._setFulfilled(),b._setBoundTo(a),b},d.cast=function(a,b){var c=d._cast(a,b);return c instanceof d?c:d.resolve(c,b)},d.onPossiblyUnhandledRejection=function(a){n.possiblyUnhandledRejection="function"==typeof a?a:void 0};var L=!1||!("undefined"==typeof c||"string"!=typeof c.execPath||"object"!=typeof c.env||!c.env.BLUEBIRD_DEBUG);d.longStackTraces=function(){if(k.haveItemsQueued()&&L===!1)throw new Error("Cannot enable long stack traces after promises have been created");L=!0},d.hasLongStackTraces=function(){return L},d.prototype._then=function(a,b,c,e,f,g){var h=void 0!==f,i=h?f:new d;if(L&&!h){var j=this._peekContext()===this._traceParent;i._traceParent=j?this._traceParent:this,i._setTrace("function"==typeof g?g:this._then,this)}h||(i._boundTo=this._boundTo);var l=this._addCallbacks(a,b,c,i,e);return this.isResolved()?k.invoke(this._resolveLast,this,l):!h&&this.isCancellable()&&(i._cancellationParent=this),i},d.prototype._length=function(){return 16777215&this._bitField},d.prototype._isFollowingOrFulfilledOrRejected=function(){return(939524096&this._bitField)>0},d.prototype._setLength=function(a){this._bitField=-16777216&this._bitField|16777215&a},d.prototype._cancellable=function(){return(67108864&this._bitField)>0},d.prototype._setFulfilled=function(){this._bitField=268435456|this._bitField},d.prototype._setRejected=function(){this._bitField=134217728|this._bitField},d.prototype._setFollowing=function(){this._bitField=536870912|this._bitField},d.prototype._setIsFinal=function(){this._bitField=33554432|this._bitField},d.prototype._isFinal=function(){return(33554432&this._bitField)>0},d.prototype._setCancellable=function(){this._bitField=67108864|this._bitField},d.prototype._unsetCancellable=function(){this._bitField=-67108865&this._bitField},d.prototype._receiverAt=function(a){var b;return b=0===a?this._receiver0:this[a+4-5],this._isBound()&&void 0===b?this._boundTo:b},d.prototype._promiseAt=function(a){return 0===a?this._promise0:this[a+3-5]},d.prototype._fulfillAt=function(a){return 0===a?this._fulfill0:this[a+0-5]},d.prototype._rejectAt=function(a){return 0===a?this._reject0:this[a+1-5]},d.prototype._unsetAt=function(a){0===a?this._fulfill0=this._reject0=this._progress0=this._promise0=this._receiver0=void 0:this[a-5+0]=this[a-5+1]=this[a-5+2]=this[a-5+3]=this[a-5+4]=void 0},d.prototype._resolveResolver=function(a){this._setTrace(this._resolveResolver,void 0);var b=new p(this);this._pushContext();var c=w(a,this,function(a){b.fulfill(a)},function(a){b.reject(a)});this._popContext(),c===u&&b.reject(c.e)},d.prototype._addCallbacks=function(a,b,c,d,e){a="function"==typeof a?a:void 0,b="function"==typeof b?b:void 0,c="function"==typeof c?c:void 0;var f=this._length();return 0===f?(this._fulfill0=a,this._reject0=b,this._progress0=c,this._promise0=d,this._receiver0=e,this._setLength(f+5),f):(this[f-5+0]=a,this[f-5+1]=b,this[f-5+2]=c,this[f-5+3]=d,this[f-5+4]=e,this._setLength(f+5),f)},d.prototype._spreadSlowCase=function(a,b,c,d){b._assumeStateOf(h(c,m,this._spreadSlowCase,d).promise()._then(function(){return a.apply(d,arguments)},void 0,void 0,J,void 0,this._spreadSlowCase),!1)},d.prototype._setBoundTo=function(a){this._boundTo=a},d.prototype._isBound=function(){return void 0!==this._boundTo};var M=o.prototype.doFilter,N={ref:null};d.prototype._resolvePromise=function(a,c,e,f){var g=this.isRejected();if(g&&"object"==typeof e&&null!==e){var h=e.__promiseHandled__;void 0===h?r(e,"__promiseHandled__",2):e.__promiseHandled__=D(h)}if(!b(f))return a.call(c,e,f);var i;if(g||c!==J)f._pushContext(),i=v(a,c,e);else{if(!q(e))return this._spreadSlowCase(a,f,e,this._boundTo),void 0;for(var j=0,l=e.length;l>j;++j)if(b(d._cast(e[j])))return this._spreadSlowCase(a,f,e,this._boundTo),void 0;f._pushContext(),i=x(a,e,this._boundTo)}if(f._popContext(),i===u)C(i.e),a!==M&&f._attachExtraTrace(i.e),k.invoke(f._reject,f,i.e);else if(i===f){var m=K();this._attachExtraTrace(m),k.invoke(f._reject,f,m)}else{if(f._tryAssumeStateOf(i,!0))return;if(d._isThenable(i,N)){var n=N.ref;return N.ref=null,f._resolveThenable(i,n),void 0}if(N.ref===u){N.ref=null;var o=u.e;f._attachExtraTrace(o),k.invoke(f._reject,f,o)}else N.ref=null,k.invoke(f._fulfill,f,i)}},d.prototype._assumeStateOf=function(a,b){this._setFollowing(),a.isPending()?(a._cancellable()&&(this._cancellationParent=a),a._then(this._resolveFulfill,this._resolveReject,this._resolveProgress,this,void 0,this._tryAssumeStateOf)):a.isFulfilled()?b===!0?k.invoke(this._resolveFulfill,this,a._resolvedValue):this._resolveFulfill(a._resolvedValue):b===!0?k.invoke(this._resolveReject,this,a._resolvedValue):this._resolveReject(a._resolvedValue),L&&null==a._traceParent&&(a._traceParent=this)},d.prototype._tryAssumeStateOf=function(a,c){return!b(a)||this._isFollowingOrFulfilledOrRejected()||a===this?!1:(this._assumeStateOf(a,c),!0)},d.prototype._resetTrace=function(a){if(L){var b=this._peekContext(),c=void 0===b;this._trace=new n("function"==typeof a?a:this._resetTrace,c)}},d.prototype._setTrace=function(a,b){if(L){var c=this._peekContext(),d=void 0===c;this._trace=void 0!==b&&b._traceParent===c?b._trace:new n("function"==typeof a?a:this._setTrace,d)}return this},d.prototype._attachExtraTrace=function(a){if(L&&H(a)){var b=this,c=a.stack;c="string"==typeof c?c.split("\n"):[];for(var d=1;null!=b&&null!=b._trace;)c=n.combine(c,b._trace.stack.split("\n")),b=b._traceParent;var e=Error.stackTraceLimit+d,f=c.length;f>e&&(c.length=e),a.stack=c.length<=d?"(No stack trace)":c.join("\n"),a.__promiseHandled__=E(a.__promiseHandled__)}},d.prototype._notifyUnhandledRejection=function(a){G(a.__promiseHandled__)||(a.__promiseHandled__=D(a.__promiseHandled__),n.possiblyUnhandledRejection(a,this))},d.prototype._unhandledRejection=function(a){G(a.__promiseHandled__)||k.invokeLater(this._notifyUnhandledRejection,this,a)},d.prototype._cleanValues=function(){this._cancellationParent=void 0},d.prototype._fulfill=function(a){this._isFollowingOrFulfilledOrRejected()||this._resolveFulfill(a)},d.prototype._reject=function(a){this._isFollowingOrFulfilledOrRejected()||this._resolveReject(a)},d.prototype._doResolveAt=function(a){var b=this.isFulfilled()?this._fulfillAt(a):this._rejectAt(a),c=this._resolvedValue,d=this._receiverAt(a),e=this._promiseAt(a);this._unsetAt(a),this._resolvePromise(b,d,c,e)},d.prototype._resolveLast=function(a){this._setLength(0);var b;if(b=this.isFulfilled()?this._fulfillAt(a):this._rejectAt(a),void 0!==b)k.invoke(this._doResolveAt,this,a);else{var c=this._promiseAt(a),d=this._resolvedValue;this._unsetAt(a),this.isFulfilled()?k.invoke(c._fulfill,c,d):k.invoke(c._reject,c,d)}},d.prototype._resolveFulfill=function(a){if(a===this){var b=K();return this._attachExtraTrace(b),this._resolveReject(b)}this._cleanValues(),this._setFulfilled(),this._resolvedValue=a;var c=this._length();this._setLength(0);for(var d=0;c>d;d+=5)if(void 0!==this._fulfillAt(d))k.invoke(this._doResolveAt,this,d);else{var e=this._promiseAt(d);this._unsetAt(d),k.invoke(e._fulfill,e,a)}},d.prototype._resolveReject=function(a){if(a===this){var b=K();return this._attachExtraTrace(b),this._resolveReject(b)}if(this._cleanValues(),this._setRejected(),this._resolvedValue=a,this._isFinal())return k.invokeLater(e,void 0,a),void 0;var c=this._length();this._setLength(0);for(var d=!1,f=0;c>f;f+=5)if(void 0!==this._rejectAt(f))d=!0,k.invoke(this._doResolveAt,this,f);else{var g=this._promiseAt(f);this._unsetAt(f),d||(d=g._length()>0),k.invoke(g._reject,g,a)}if(!d&&void 0!==n.possiblyUnhandledRejection&&s(a)){var h=a.__promiseHandled__,i=a;if(void 0===h)i=t(a,"__promiseHandled__",0),h=0;else if(G(h))return;F(h)||this._attachExtraTrace(i),k.invoke(this._unhandledRejection,this,i)}};var O=[];d.prototype._peekContext=function(){var a=O.length-1;return a>=0?O[a]:void 0},d.prototype._pushContext=function(){L&&O.push(this)},d.prototype._popContext=function(){L&&O.pop()};var P=i.Promise;return d.noConflict=function(){return i.Promise===d&&(i.Promise=P),d},n.isSupported()||(d.longStackTraces=function(){},L=!1),a("./direct_resolve.js")(d),d.CancellationError=z,d.TimeoutError=A,d.TypeError=y,d.RejectionError=B,a("./synchronous_inspection.js")(d),a("./any.js")(d,h,m),a("./race.js")(d,h,m),a("./call_get.js")(d),a("./filter.js")(d,h,m,I),a("./generators.js")(d,I),a("./map.js")(d,h,m,I),a("./nodeify.js")(d),a("./promisify.js")(d),a("./props.js")(d,m),a("./reduce.js")(d,h,m,I),a("./settle.js")(d,h,m),a("./some.js")(d,h,m,I),a("./progress.js")(d),a("./cancel.js")(d),a("./complex_thenables.js")(d),d.prototype=d.prototype,d}},{"./any.js":2,"./assert.js":3,"./async.js":4,"./call_get.js":6,"./cancel.js":7,"./captured_trace.js":8,"./catch_filter.js":9,"./complex_thenables.js":10,"./direct_resolve.js":11,"./errors.js":12,"./errors_api_rejection":13,"./filter.js":14,"./generators.js":15,"./global.js":16,"./map.js":17,"./nodeify.js":18,"./progress.js":19,"./promise_array.js":21,"./promise_resolver.js":23,"./promisify.js":25,"./props.js":27,"./race.js":29,"./reduce.js":31,"./settle.js":33,"./some.js":35,"./synchronous_inspection.js":37,"./util.js":38,__browserify_process:39}],21:[function(a,b){"use strict";b.exports=function(b){function c(a){switch(a){case 0:return void 0;case 1:return[];case 2:return{}}}function d(a,c,d){this._values=a,this._resolver=b.pending(c),void 0!==d&&this._resolver.promise._setBoundTo(d),this._length=0,this._totalResolved=0,this._init(void 0,1)}var e=(a("./assert.js"),a("./errors.js").ensureNotHandled),f=a("./util.js"),g=a("./async.js"),h={}.hasOwnProperty,i=f.isArray;return d.PropertiesPromiseArray=function(){},d.prototype.length=function(){return this._length},d.prototype.promise=function(){return this._resolver.promise},d.prototype._init=function(a,e){var f=this._values;if(b.is(f)){if(!f.isFulfilled())return f.isPending()?(f._then(this._init,this._reject,void 0,this,e,this.constructor),void 0):(this._reject(f._resolvedValue),void 0);if(f=f._resolvedValue,!i(f))return this._fulfill(c(e)),void 0;this._values=f}if(0===f.length)return this._fulfill(c(e)),void 0;var j,k=f.length,l=k;j=this instanceof d.PropertiesPromiseArray?this._values:new Array(k);for(var m=!1,n=0;k>n;++n){var o=f[n];if(void 0!==o||h.call(f,n)){var p=b._cast(o);p instanceof b&&p.isPending()?p._then(this._promiseFulfilled,this._promiseRejected,this._promiseProgressed,this,n,this._scanDirectValues):m=!0,j[n]=p}else l--}if(0===l)return 1===e?this._fulfill(j):this._fulfill(c(e)),void 0;if(this._values=j,this._length=l,m){var q=l===k?this._scanDirectValues:this._scanDirectValuesHoled;g.invoke(q,this,k)}},d.prototype._resolvePromiseAt=function(a){var c=this._values[a];b.is(c)?c.isFulfilled()?this._promiseFulfilled(c._resolvedValue,a):c.isRejected()&&this._promiseRejected(c._resolvedValue,a):this._promiseFulfilled(c,a)},d.prototype._scanDirectValuesHoled=function(a){for(var b=0;a>b&&!this._isResolved();++b)h.call(this._values,b)&&this._resolvePromiseAt(b)},d.prototype._scanDirectValues=function(a){for(var b=0;a>b&&!this._isResolved();++b)this._resolvePromiseAt(b)},d.prototype._isResolved=function(){return null===this._values},d.prototype._fulfill=function(a){this._values=null,this._resolver.fulfill(a)},d.prototype._reject=function(a){e(a),this._values=null,this._resolver.reject(a)},d.prototype._promiseProgressed=function(a,b){this._isResolved()||this._resolver.progress({index:b,value:a})},d.prototype._promiseFulfilled=function(a,b){if(!this._isResolved()){this._values[b]=a;var c=++this._totalResolved;c>=this._length&&this._fulfill(this._values)}},d.prototype._promiseRejected=function(a){this._isResolved()||(this._totalResolved++,this._reject(a))},d}},{"./assert.js":3,"./async.js":4,"./errors.js":12,"./util.js":38}],22:[function(a,b){"use strict";
function c(a){void 0!==a?(this._bitField=a._bitField,this._resolvedValue=a.isResolved()?a._resolvedValue:void 0):(this._bitField=0,this._resolvedValue=void 0)}var d=a("./errors.js").TypeError;c.prototype.isFulfilled=function(){return(268435456&this._bitField)>0},c.prototype.isRejected=function(){return(134217728&this._bitField)>0},c.prototype.isPending=function(){return 0===(402653184&this._bitField)},c.prototype.value=function(){if(!this.isFulfilled())throw new d("cannot get fulfillment value of a non-fulfilled promise");return this._resolvedValue},c.prototype.error=function(){if(!this.isRejected())throw new d("cannot get rejection reason of a non-rejected promise");return this._resolvedValue},b.exports=c},{"./errors.js":12}],23:[function(a,b){"use strict";function c(a){return a instanceof Error&&Object.getPrototypeOf(a)===Error.prototype}function d(a){return c(a)?new k(a):a}function e(a){function b(b,c){if(b)a.reject(d(h(b)));else if(arguments.length>2){for(var e=arguments.length,f=new Array(e-1),g=1;e>g;++g)f[g-1]=arguments[g];a.fulfill(f)}else a.fulfill(c)}return b}var f,g=a("./util.js"),h=g.maybeWrapAsError,i=a("./errors.js"),j=i.TimeoutError,k=i.RejectionError,l=a("./async.js"),m=g.haveGetters;if(f=m?function(a){this.promise=a}:function(a){this.promise=a,this.asCallback=e(this),this.callback=this.asCallback},m){var n={get:function(){return e(this)}};Object.defineProperty(f.prototype,"asCallback",n),Object.defineProperty(f.prototype,"callback",n)}f._nodebackForResolver=e,f.prototype.toString=function(){return"[object PromiseResolver]"},f.prototype.resolve=f.prototype.fulfill=function(a){this.promise._tryAssumeStateOf(a,!1)||l.invoke(this.promise._fulfill,this.promise,a)},f.prototype.reject=function(a){this.promise._attachExtraTrace(a),l.invoke(this.promise._reject,this.promise,a)},f.prototype.progress=function(a){l.invoke(this.promise._progress,this.promise,a)},f.prototype.cancel=function(){l.invoke(this.promise.cancel,this.promise,void 0)},f.prototype.timeout=function(){this.reject(new j("timeout"))},f.prototype.isResolved=function(){return this.promise.isResolved()},f.prototype.toJSON=function(){return this.promise.toJSON()},b.exports=f},{"./async.js":4,"./errors.js":12,"./util.js":38}],24:[function(a,b){"use strict";b.exports=function(b){function c(a,c,d){this._resolver=b.pending(d),this._generatorFunction=a,this._receiver=c,this._generator=void 0}var d=a("./errors.js"),e=d.TypeError,f=d.ensureNotHandled,g=a("./util.js"),h=g.isArray,i=g.errorObj,j=g.tryCatch1;return c.prototype.promise=function(){return this._resolver.promise},c.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._next(void 0)},c.prototype._continue=function k(a){if(a===i)return this._generator=void 0,this._resolver.reject(a.e),void 0;var c=a.value;if(a.done===!0)this._generator=void 0,this._resolver.fulfill(c);else{var d=b._cast(c,k);if(!(d instanceof b)){if(!h(d))return this._throw(new e("A value was yielded that could not be treated as a promise")),void 0;d=b.all(d)}d._then(this._next,this._throw,void 0,this,null,void 0)}},c.prototype._throw=function(a){f(a),this.promise()._attachExtraTrace(a),this._continue(j(this._generator["throw"],this._generator,a))},c.prototype._next=function(a){this._continue(j(this._generator.next,this._generator,a))},c}},{"./errors.js":12,"./util.js":38}],25:[function(a,b){"use strict";b.exports=function(b){function c(a,c,d){function e(b){for(var d=new Array(b),e=0,f=d.length;f>e;++e)d[e]="a"+(e+1);var g=b>0?",":"";return"string"==typeof a&&c===h?"this['"+a+"']("+d.join(",")+g+" fn);break;":(void 0===c?"callback("+d.join(",")+g+" fn);":"callback.call("+(c===h?"this":"receiver")+", "+d.join(",")+g+" fn);")+"break;"}function f(){return"var args = new Array( len + 1 );var i = 0;for( var i = 0; i < len; ++i ) {    args[i] = arguments[i];}args[i] = fn;"}var g="string"==typeof d?d+"Async":"promisified";return new Function("Promise","callback","receiver","withAppended","maybeWrapAsError","nodebackForResolver","var ret = function "+g+'( a1, a2, a3, a4, a5 ) {"use strict";var len = arguments.length;var resolver = Promise.pending( '+g+" );var fn = nodebackForResolver( resolver );try{switch( len ) {case 1:"+e(1)+"case 2:"+e(2)+"case 3:"+e(3)+"case 0:"+e(0)+"case 4:"+e(4)+"case 5:"+e(5)+"default: "+f()+("string"==typeof a?"this['"+a+"'].apply(":"callback.apply(")+(c===h?"this":"receiver")+", args ); break;}}catch(e){ resolver.reject( maybeWrapAsError( e ) );}return resolver.promise;}; ret.__isPromisified__ = true; return ret;")(b,a,c,m,n,k)}function d(a,c){function d(){var e=c;c===h&&(e=this),"string"==typeof a&&(a=e[a]);var f=b.pending(d),g=k(f);try{a.apply(e,m(arguments,g))}catch(i){f.reject(n(i))}return f.promise}return d.__isPromisified__=!0,d}function e(){}function f(a){return a.__isPromisified__===!0}function g(a,b,c){if(c){var d=0,g={};for(var i in a)if(!t.test(i)&&!s.call(a,i+"__beforePromisified__")&&"function"==typeof a[i]){var j=a[i];if(!f(j)){d++;var k=i+"__beforePromisified__",l=i+"Async";p(a,k,j),g[l]=r(k,h,i)}}if(d>0){for(var i in g)s.call(g,i)&&(a[i]=g[i]);e.prototype=a}return a}return r(a,b,void 0)}{var h={},i=a("./util.js"),j=a("./errors.js"),k=a("./promise_resolver.js")._nodebackForResolver,l=j.RejectionError,m=i.withAppended,n=i.maybeWrapAsError,o=i.canEvaluate,p=i.notEnumerableProp,q=i.deprecated;a("./assert.js")}b.prototype.error=function(a){return this.caught(l,a)};var r=o?c:d,s={}.hasOwnProperty,t=new RegExp("__beforePromisified__$");b.promisify=function(a,b){if("object"==typeof a&&null!==a)return q("Promise.promisify for promisifying entire objects is deprecated. Use Promise.promisifyAll instead."),g(a,b,!0);if("function"!=typeof a)throw new TypeError("callback must be a function");return f(a)?a:g(a,arguments.length<2?h:b,!1)},b.promisifyAll=function(a){if("function"!=typeof a&&"object"!=typeof a)throw new TypeError("Cannot promisify "+typeof a);return g(a,void 0,!0)}}},{"./assert.js":3,"./errors.js":12,"./promise_resolver.js":23,"./util.js":38}],26:[function(a,b){"use strict";b.exports=function(b,c){function d(a,b,c){for(var d=Object.keys(a),e=new Array(d.length),f=0,g=e.length;g>f;++f)e[f]=a[d[f]];if(this.constructor$(e,b,c),!this._isResolved())for(var f=0,g=d.length;g>f;++f)e.push(d[f])}var e=(a("./assert.js"),a("./util.js")),f=e.inherits;return f(d,c),d.prototype._init=function(){this._init$(void 0,2)},d.prototype._promiseFulfilled=function(a,b){if(!this._isResolved()){this._values[b]=a;var c=++this._totalResolved;if(c>=this._length){for(var d={},e=this.length(),f=0,g=this.length();g>f;++f)d[this._values[f+e]]=this._values[f];this._fulfill(d)}}},d.prototype._promiseProgressed=function(a,b){this._isResolved()||this._resolver.progress({key:this._values[b+this.length()],value:a})},c.PropertiesPromiseArray=d,d}},{"./assert.js":3,"./util.js":38}],27:[function(a,b){"use strict";b.exports=function(b,c){function d(a,c,d){var f;return g(a)?f=b.fulfilled(a,d):b.is(a)?f=a._then(b.props,void 0,void 0,void 0,void 0,d):(f=new e(a,d,c===!0?a._boundTo:void 0).promise(),c=!1),c===!0&&(f._boundTo=a._boundTo),f}var e=a("./properties_promise_array.js")(b,c),f=a("./util.js"),g=f.isPrimitive;b.prototype.props=function(){return d(this,!0,this.props)},b.props=function(a){return d(a,!1,b.props)}}},{"./properties_promise_array.js":26,"./util.js":38}],28:[function(a,b){"use strict";function c(a,b,c,d,e){for(var f=0;e>f;++f)c[f+d]=a[f+b]}function d(a){return a>>>=0,a-=1,a|=a>>1,a|=a>>2,a|=a>>4,a|=a>>8,a|=a>>16,a+1}function e(a){return"number"!=typeof a?16:d(Math.min(Math.max(16,a),1073741824))}function f(a){this._capacity=e(a),this._length=0,this._front=0,this._makeCapacity()}a("./assert.js");f.prototype._willBeOverCapacity=function(a){return this._capacity<a},f.prototype._pushOne=function(a){var b=this.length();this._checkCapacity(b+1);var c=this._front+b&this._capacity-1;this[c]=a,this._length=b+1},f.prototype.push=function(a,b,c){var d=this.length()+3;if(this._willBeOverCapacity(d))return this._pushOne(a),this._pushOne(b),this._pushOne(c),void 0;var e=this._front+d-3;this._checkCapacity(d);var f=this._capacity-1;this[e+0&f]=a,this[e+1&f]=b,this[e+2&f]=c,this._length=d},f.prototype.shift=function(){var a=this._front,b=this[a];return this[a]=void 0,this._front=a+1&this._capacity-1,this._length--,b},f.prototype.length=function(){return this._length},f.prototype._makeCapacity=function(){for(var a=this._capacity,b=0;a>b;++b)this[b]=void 0},f.prototype._checkCapacity=function(a){this._capacity<a&&this._resizeTo(this._capacity<<3)},f.prototype._resizeTo=function(a){var b=this._front,d=this._capacity,e=new Array(d),f=this.length();if(c(this,0,e,0,d),this._capacity=a,this._makeCapacity(),this._front=0,d>=b+f)c(e,b,this,0,f);else{var g=f-(b+f&d-1);c(e,b,this,0,g),c(e,0,this,g,f-g)}},b.exports=f},{"./assert.js":3}],29:[function(a,b){"use strict";b.exports=function(b,c,d){function e(a,b,d){return c(a,f,d,b===!0?a._boundTo:void 0).promise()}var f=a("./race_promise_array.js")(b,d);b.race=function(a){return e(a,!1,b.race)},b.prototype.race=function(){return e(this,!0,this.race)}}},{"./race_promise_array.js":30}],30:[function(a,b){"use strict";b.exports=function(b,c){function d(a,b,c){this.constructor$(a,b,c)}var e=a("./util.js"),f=e.inherits;return f(d,c),d.prototype._init=function(){this._init$(void 0,0)},d.prototype._promiseFulfilled=function(a){this._isResolved()||this._fulfill(a)},d.prototype._promiseRejected=function(a){this._isResolved()||this._reject(a)},d}},{"./util.js":38}],31:[function(a,b){"use strict";b.exports=function(b,c,d,e){function f(a,b){var c=this,d=void 0;"function"!=typeof c&&(d=c.receiver,c=c.fn);var e=a.length,f=void 0,g=0;if(void 0!==b)f=b,g=0;else if(g=1,e>0)for(var h=0;e>h;++h)if(void 0!==a[h]||h in a){f=a[h],g=h+1;break}if(void 0===d)for(var h=g;e>h;++h)(void 0!==a[h]||h in a)&&(f=c(f,a[h],h,e));else for(var h=g;e>h;++h)(void 0!==a[h]||h in a)&&(f=c.call(d,f,a[h],h,e));return f}function g(a){var b=this.fn,c=this.initialValue;return f.call(b,a,c)}function h(a,b,c,d,e){return c._then(function f(c){return i(a,b,c,d,f)},void 0,void 0,void 0,void 0,e)}function i(a,i,j,k,l){if("function"!=typeof i)return e("fn is not a function");if(k===!0&&(i={fn:i,receiver:a._boundTo}),void 0!==j){if(b.is(j)){if(!j.isFulfilled())return h(a,i,j,k,l);j=j._resolvedValue}return c(a,d,l,k===!0?a._boundTo:void 0).promise()._then(g,void 0,void 0,{fn:i,initialValue:j},void 0,b.reduce)}return c(a,d,l,k===!0?a._boundTo:void 0).promise()._then(f,void 0,void 0,i,void 0,l)}a("./assert.js");b.reduce=function(a,c,d){return i(a,c,d,!1,b.reduce)},b.prototype.reduce=function(a,b){return i(this,a,b,!0,this.reduce)}}},{"./assert.js":3}],32:[function(a,b){{var c,d=a("__browserify_process"),e=a("./global.js");a("./assert.js")}if("undefined"!=typeof d&&null!==d&&"function"==typeof d.cwd&&"function"==typeof d.nextTick)c=d.nextTick;else if("function"!=typeof MutationObserver&&"function"!=typeof WebkitMutationObserver&&"function"!=typeof WebKitMutationObserver||"undefined"==typeof document||"function"!=typeof document.createElement)if("function"==typeof e.postMessage&&"function"!=typeof e.importScripts&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener){var f="bluebird_message_key_"+Math.random();c=function(){function a(a){if(a.source===e&&a.data===f){var c=b;b=void 0,c()}}var b=void 0;return e.addEventListener("message",a,!1),function(a){b=a,e.postMessage(f,"*")}}()}else c="function"==typeof MessageChannel?function(){var a=void 0,b=new MessageChannel;return b.port1.onmessage=function(){var b=a;a=void 0,b()},function(c){a=c,b.port2.postMessage(null)}}():e.setTimeout?function(a){setTimeout(a,4)}:function(a){a()};else c=function(){var a=e.MutationObserver||e.WebkitMutationObserver||e.WebKitMutationObserver,b=document.createElement("div"),c=void 0,d=new a(function(){var a=c;c=void 0,a()}),f=!0;return d.observe(b,{attributes:!0,childList:!0,characterData:!0}),function(a){c=a,f=!f,b.setAttribute("class",f?"foo":"bar")}}();b.exports=c},{"./assert.js":3,"./global.js":16,__browserify_process:39}],33:[function(a,b){"use strict";b.exports=function(b,c,d){function e(a,b,d){return c(a,f,d,b===!0?a._boundTo:void 0).promise()}var f=a("./settled_promise_array.js")(b,d);b.settle=function(a){return e(a,!1,b.settle)},b.prototype.settle=function(){return e(this,!0,this.settle)}}},{"./settled_promise_array.js":34}],34:[function(a,b){"use strict";b.exports=function(b,c){function d(a,b,c){this.constructor$(a,b,c)}var e=(a("./assert.js"),a("./promise_inspection.js")),f=a("./util.js"),g=f.inherits;return g(d,c),d.prototype._promiseResolved=function(a,b){this._values[a]=b;var c=++this._totalResolved;c>=this._length&&this._fulfill(this._values)},d.prototype._promiseFulfilled=function(a,b){if(!this._isResolved()){var c=new e;c._bitField=268435456,c._resolvedValue=a,this._promiseResolved(b,c)}},d.prototype._promiseRejected=function(a,b){if(!this._isResolved()){var c=new e;c._bitField=134217728,c._resolvedValue=a,this._promiseResolved(b,c)}},d}},{"./assert.js":3,"./promise_inspection.js":22,"./util.js":38}],35:[function(a,b){"use strict";b.exports=function(b,c,d,e){function f(a,b,d,f){if((0|b)!==b)return e("howMany must be an integer");var h=c(a,g,f,d===!0?a._boundTo:void 0);return h.setHowMany(b),h.promise()}{var g=a("./some_promise_array.js")(d);a("./assert.js")}b.some=function(a,c){return f(a,c,!1,b.some)},b.prototype.some=function(a){return f(this,a,!0,this.some)}}},{"./assert.js":3,"./some_promise_array.js":36}],36:[function(a,b){"use strict";b.exports=function(b){function c(a,b,c){this.constructor$(a,b,c),this._howMany=0,this._unwrap=!1}var d=a("./util.js"),e=d.inherits,f=d.isArray;return e(c,b),c.prototype._init=function(){this._init$(void 0,1);var a=f(this._values);this._holes=a?this._values.length-this.length():0,!this._isResolved()&&a&&(this._howMany=Math.max(0,Math.min(this._howMany,this.length())),this.howMany()>this._canPossiblyFulfill()&&this._reject([]))},c.prototype.setUnwrap=function(){this._unwrap=!0},c.prototype.howMany=function(){return this._howMany},c.prototype.setHowMany=function(a){this._isResolved()||(this._howMany=a)},c.prototype._promiseFulfilled=function(a){this._isResolved()||(this._addFulfilled(a),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._fulfill(this._values[0]):this._fulfill(this._values)))},c.prototype._promiseRejected=function(a){this._isResolved()||(this._addRejected(a),this.howMany()>this._canPossiblyFulfill()&&(this._values.length===this.length()?this._reject([]):this._reject(this._values.slice(this.length()+this._holes))))},c.prototype._fulfilled=function(){return this._totalResolved},c.prototype._rejected=function(){return this._values.length-this.length()-this._holes},c.prototype._addRejected=function(a){this._values.push(a)},c.prototype._addFulfilled=function(a){this._values[this._totalResolved++]=a},c.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},c}},{"./util.js":38}],37:[function(a,b){"use strict";b.exports=function(b){var c=a("./promise_inspection.js");b.prototype.inspect=function(){return new c(this)}}},{"./promise_inspection.js":22}],38:[function(a,b){"use strict";function c(a){"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn("Bluebird: "+a)}function d(a,b,c){try{return a.call(b,c)}catch(d){return r.e=d,r}}function e(a,b,c,d){try{return a.call(b,c,d)}catch(e){return r.e=e,r}}function f(a,b,c){try{return a.apply(c,b)}catch(d){return r.e=d,r}}function g(a){return"string"==typeof a?a:""+a}function h(a){return null==a||a===!0||a===!1||"string"==typeof a||"number"==typeof a}function i(a){return!h(a)}function j(a){return h(a)?new Error(g(a)):a}function k(a,b){var c,d=a.length,e=new Array(d+1);for(c=0;d>c;++c)e[c]=a[c];return e[c]=b,e}function l(a,b,c){var d={value:c,configurable:!0,enumerable:!1,writable:!0};return Object.defineProperty(a,b,d),a}var m=a("./global.js"),n=(a("./assert.js"),function(){try{var a={};return Object.defineProperty(a,"f",{get:function(){return 3}}),3===a.f}catch(b){return!1}}()),o=function(a,b,c){try{return l(a,b,c),a}catch(d){for(var e={},f=Object.keys(a),g=0,h=f.length;h>g;++g)try{var i=f[g];e[i]=a[i]}catch(j){e[i]=j}return l(e,b,c),e}},p=function(){return"undefined"!=typeof window&&null!==window&&"undefined"!=typeof window.document&&"undefined"!=typeof navigator&&null!==navigator&&"string"==typeof navigator.appName&&window===m?!1:!0}(),q=Array.isArray||function(a){return a instanceof Array},r={e:{}},s=function(a,b){function c(){this.constructor=a,this.constructor$=b;for(var c in b.prototype)d.call(b.prototype,c)&&"$"!==c.charAt(c.length-1)&&(this[c+"$"]=b.prototype[c])}var d={}.hasOwnProperty;return c.prototype=b.prototype,a.prototype=new c,a.prototype};b.exports={isArray:q,haveGetters:n,notEnumerableProp:l,isPrimitive:h,isObject:i,ensurePropertyExpansion:o,canEvaluate:p,deprecated:c,errorObj:r,tryCatch1:d,tryCatch2:e,tryCatchApply:f,inherits:s,withAppended:k,asString:g,maybeWrapAsError:j}},{"./assert.js":3,"./global.js":16}],39:[function(a,b){var c=b.exports={};c.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){if(a.source===window&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var b=c.shift();b()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),c.title="browser",c.browser=!0,c.env={},c.argv=[],c.binding=function(){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(){throw new Error("process.chdir is not supported")}},{}],40:[function(a,b){var c=function(a){var b=this;b.content=a};b.exports=c},{}],41:[function(a,b){var c=a("./transit.js"),d=a("bluebird"),e=function(a,b,e){var f=this;f.context=e,f.isServer=function(){return void 0===f.context.document?!0:!1},f.handle=function(c){a.emit("transit.start",c);var e=c.deconstruct();c.setScope(b.getScope(c)),c.setArguments(b.getArguments(c)),c.fn===!1&&c.setFunction(b.getFunction(c)),a.emit("transit.controller",c);var f=c.run().then(function(){return a.emit("transit.view",c),c.construct()}),g=d.all([e,f]);return g.then(function(){a.emit("transit.end",c)}),g},f.install=function(){return f.isServer()?f.context.use(function(a,b,c){var d=f.normalize(a,b);d.setAttribute("_res",b),d.setAttribute("_req",a),d.setAttribute("_next",c),f.handle(d)}):f.context.document.onclick=function(a){f.handle(f.normalize(a))},f},f.normalize=function(){if(f.isServer()){if(2!==arguments.length)throw new Error("[SERVER] normalize() expects 2 arguments, received: "+arguments.length);var a=arguments[0],b=arguments[1];if(void 0===a.url)throw new Error("[SERVER] normalize() expects first arguments to be an req object with an url, received: "+a);if(void 0===b.statusCode)throw new Error("[SERVER] normalize() expects second arguments to be an res object with a statusCode, received: "+a);return c.createFromReq(a,b)}var d=arguments[0];if(void 0===d||void 0===d.currentTarget)throw new Error("[CLIENT] normalize() expects argument to be an DOMEvent, received:"+d);return c.createFromEvent(d)}};b.exports=e},{"./transit.js":42,bluebird:5}],42:[function(a,b){var c=a("bluebird"),d=(a("./state.js"),function(a,b){var d=this,e=c.defer(),f={};d.url=a,d.method="undefined"!=typeof b?b.toUpperCase():"GET",d.scope=d,d.args=[],d.fn=!1,d.result=!1,d.newState=!1,d.oldState=!1,d.setAttribute=function(a,b){f[a]=b},d.getAttribute=function(a){return f[a]},d.hasAttribute=function(a){return void 0===d.getAttribute(a)?!1:!0},d.setScope=function(a){d.scope=a},d.setFunction=function(a){d.fn=a},d.setArguments=function(a){d.args=a},d.deconstruct=function(){var a=[];return c.all(a)},d.construct=function(){if(d.newState===!1)throw new Error('Controller did not provide an valid state, received: "'+d.result+'"');var a=[];return c.all(a)},d.run=function(){var a=e.promise;if(d.newState!==!1)return d.render(d.newState),a;if(d.result!==!1)return d.render(d.result),a;if(!d.fn)throw new Error('Unable to find the controller for path "'+d.url+'". Maybe you forgot to add the matching route?');if(!Array.isArray(d.args))throw new Error('Provided controller arguments should be an Array, received "'+d.args+'"');if("object"!=typeof d.scope)throw new Error('Provided controller scope should be an Object, received "'+d.scope+'"');var b=d.fn.apply(d.scope,d.args);return void 0!==b&&d.render(b),a},d.render=function(a){if(e.resolve(a),d.result=a,!a)throw new Error('Did you provide a value when rendering? received: "'+a+'"');"object"==typeof a&&void 0!==a.content&&(d.newState=a)}});d.createFromEvent=function(a){if(a.currentTarget.hasAttribute("href")===!1)throw new Error('[CLIENT] normalize() expected clicked element "'+a.currentTarget+'" to have an href attribute.');var b=a.currentTarget.getAttribute("href");-1!==b.indexOf("#")&&(b=b.substring(b.indexOf("#")+1));var c=new d(b);return c},d.createFromReq=function(a){var b=new d(a.url,a.method);return b},b.exports=d},{"./state.js":40,bluebird:5}]},{},[1]);