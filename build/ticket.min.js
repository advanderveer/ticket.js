!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){var c=a("./src/ticket.js");b.exports=c},{"./src/ticket.js":3}],2:[function(a,b){var c=function(a){var b=this;b.content=a};b.exports=c},{}],3:[function(a,b){var c=a("./transit.js"),d=function(a,b,d,e){var f=this;f.context=e,f.isServer=function(){return void 0===f.context.document?!0:!1},f.handle=function(c){a.emit("transit.start",c);var e=c.deconstruct();c.setScope(b.getScope(c)),c.setArguments(b.getArguments(c)),c.fn===!1&&c.setFunction(b.getFunction(c)),a.emit("transit.controller",c);var f=c.run().then(function(){return a.emit("transit.view",c),c.construct()}),g=d.all([e,f]);return g.then(function(){a.emit("transit.end",c)}),g},f.install=function(){return f.isServer()?f.context.use(function(a,b,c){var d=f.normalize(a,b);d.setAttribute("_res",b),d.setAttribute("_req",a),d.setAttribute("_next",c),f.handle(d)}):f.context.document.onclick=function(a){f.handle(f.normalize(a))},f},f.normalize=function(){if(f.isServer()){if(2!==arguments.length)throw new Error("[SERVER] normalize() expects 2 arguments, received: "+arguments.length);var a=arguments[0],b=arguments[1];if(void 0===a.url)throw new Error("[SERVER] normalize() expects first arguments to be an req object with an url, received: "+a);if(void 0===b.statusCode)throw new Error("[SERVER] normalize() expects second arguments to be an res object with a statusCode, received: "+a);return c.createFromReq(a,b,d)}var e=arguments[0];if(void 0===e||void 0===e.currentTarget)throw new Error("[CLIENT] normalize() expects argument to be an DOMEvent, received:"+e);return c.createFromEvent(e,d)}};b.exports=d},{"./transit.js":4}],4:[function(a,b){var c=(a("./state.js"),function(a,b,c){var d,e=this,f=b.defer(),g={};e.MAX_EXECUTION_TIME=5e3,e.startTimeout=function(){d=setTimeout(function(){f.reject('Controller for transit to url "'+e.url+'" exceeded maximum execution time of: "'+e.MAX_EXECUTION_TIME+'ms", did the controller call render?')},e.MAX_EXECUTION_TIME)},e.stopTimeout=function(){clearTimeout(d)},e.url=a,e.method="undefined"!=typeof c?c.toUpperCase():"GET",e.scope=e,e.args=[],e.fn=!1,e.result=!1,e.newState=!1,e.oldState=!1,e.setAttributes=function(a){g=a},e.setAttribute=function(a,b){g[a]=b},e.getAttribute=function(a){return g[a]},e.hasAttribute=function(a){return void 0===e.getAttribute(a)?!1:!0},e.setScope=function(a){e.scope=a},e.setFunction=function(a){e.fn=a},e.setArguments=function(a){e.args=a},e.deconstruct=function(){var a=[];return b.all(a)},e.construct=function(){if(e.newState===!1)throw new Error('Controller did not provide an valid state, received: "'+e.result+'"');var a=[];return b.all(a)},e.run=function(){var a=f.promise;if(e.newState!==!1)return e.render(e.newState),a;if(e.result!==!1)return e.render(e.result),a;if(!e.fn)throw new Error('Unable to find the controller for path "'+e.url+'". Maybe you forgot to add the matching route?');if(!Array.isArray(e.args))throw new Error('Provided controller arguments should be an Array, received "'+e.args+'"');if("object"!=typeof e.scope)throw new Error('Provided controller scope should be an Object, received "'+e.scope+'"');e.startTimeout();var b=e.fn.apply(e.scope,e.args);return void 0!==b&&e.render(b),a},e.render=function(a){if(f.resolve(a),e.result=a,e.stopTimeout(),!a)throw new Error('Did you provide a value when rendering? received: "'+a+'"');"object"==typeof a&&void 0!==a.content&&(e.newState=a)}});c.createFromEvent=function(a,b){if(a.currentTarget.hasAttribute("href")===!1)throw new Error('[CLIENT] normalize() expected clicked element "'+a.currentTarget+'" to have an href attribute.');var d=a.currentTarget.getAttribute("href");-1!==d.indexOf("#")&&(d=d.substring(d.indexOf("#")+1));var e=new c(d,b);return e},c.createFromReq=function(a,b,d){var e=new c(a.url,d,a.method);return e},b.exports=c},{"./state.js":2}]},{},[1]);